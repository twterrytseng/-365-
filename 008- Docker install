# Docker & Docker Compose 安裝步驟 (Rocky Linux 9.6)
# 1. 安裝 dnf-utils（用於管理 repo）和其他基礎工具
sudo dnf install -y yum-utils device-mapper-persistent-data lvm2

# 2. 添加 Docker 官方的 dnf 儲存庫
sudo dnf config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo

# 3. 更新套件清單
sudo dnf update -y


步驟 2: 安裝 Docker Engine
現在可以從 Docker 儲存庫安裝 Docker 的核心組件。
# 安裝 Docker CE (Community Edition)、CLI 和 Containerd
sudo dnf install docker-ce docker-ce-cli containerd.io -y


步驟 3: 啟動 Docker 服務
安裝完成後，需要啟動 Docker Daemon 並設定開機自啟。

# 1. 啟動 Docker 服務
sudo systemctl start docker

# 2. 設定開機自啟
sudo systemctl enable docker

# 3. 檢查 Docker 狀態 (確保顯示 active (running))
sudo systemctl status docker


步驟 4: 賦予一般使用者 Docker 權限 (最重要)

為了避免每次運行 Docker 指令時都要輸入 sudo，建議將您的日常使用者帳號加入到 docker 群組。

假設您的使用者名稱是 rocky_user：

# 將 rocky_user 加入到 docker 群組
sudo usermod -aG docker rocky_user

# 確認變更生效：必須登出並重新登入 Shell
echo "請重新登出 SSH 或 Console，再繼續下一步。"


# 使用 dnf 安裝 docker-compose-plugin
sudo dnf install docker-compose-plugin -y
